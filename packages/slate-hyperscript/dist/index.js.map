{"version":3,"file":"index.js","sources":["../../../.yarn/cache/@babel-runtime-npm-7.15.3-6333c71362-37da7b9f07.zip/node_modules/@babel/runtime/helpers/typeof.js","../../../.yarn/cache/@babel-runtime-npm-7.15.3-6333c71362-37da7b9f07.zip/node_modules/@babel/runtime/helpers/defineProperty.js","../../../.yarn/cache/@babel-runtime-npm-7.15.3-6333c71362-37da7b9f07.zip/node_modules/@babel/runtime/helpers/arrayWithHoles.js","../../../.yarn/cache/@babel-runtime-npm-7.15.3-6333c71362-37da7b9f07.zip/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../../../.yarn/cache/@babel-runtime-npm-7.15.3-6333c71362-37da7b9f07.zip/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../../../.yarn/cache/@babel-runtime-npm-7.15.3-6333c71362-37da7b9f07.zip/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../../../.yarn/cache/@babel-runtime-npm-7.15.3-6333c71362-37da7b9f07.zip/node_modules/@babel/runtime/helpers/nonIterableRest.js","../../../.yarn/cache/@babel-runtime-npm-7.15.3-6333c71362-37da7b9f07.zip/node_modules/@babel/runtime/helpers/slicedToArray.js","../../../.yarn/cache/@babel-runtime-npm-7.15.3-6333c71362-37da7b9f07.zip/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../../../.yarn/cache/@babel-runtime-npm-7.15.3-6333c71362-37da7b9f07.zip/node_modules/@babel/runtime/helpers/inherits.js","../../../.yarn/cache/@babel-runtime-npm-7.15.3-6333c71362-37da7b9f07.zip/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../../../.yarn/cache/@babel-runtime-npm-7.15.3-6333c71362-37da7b9f07.zip/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../../../.yarn/cache/@babel-runtime-npm-7.15.3-6333c71362-37da7b9f07.zip/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../../../.yarn/cache/@babel-runtime-npm-7.15.3-6333c71362-37da7b9f07.zip/node_modules/@babel/runtime/helpers/classCallCheck.js","../src/tokens.ts","../src/creators.ts","../src/hyperscript.ts","../src/index.ts"],"sourcesContent":["function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import { Node, Path, Text } from 'slate'\n\n/**\n * A weak map to hold anchor tokens.\n */\n\nconst ANCHOR: WeakMap<Node, [number, AnchorToken]> = new WeakMap()\n\n/**\n * A weak map to hold focus tokens.\n */\n\nconst FOCUS: WeakMap<Node, [number, FocusToken]> = new WeakMap()\n\n/**\n * All tokens inherit from a single constructor for `instanceof` checking.\n */\n\nexport class Token {}\n\n/**\n * Anchor tokens represent the selection's anchor point.\n */\n\nexport class AnchorToken extends Token {\n  offset?: number\n  path?: Path\n\n  constructor(\n    props: {\n      offset?: number\n      path?: Path\n    } = {}\n  ) {\n    super()\n    const { offset, path } = props\n    this.offset = offset\n    this.path = path\n  }\n}\n\n/**\n * Focus tokens represent the selection's focus point.\n */\n\nexport class FocusToken extends Token {\n  offset?: number\n  path?: Path\n\n  constructor(\n    props: {\n      offset?: number\n      path?: Path\n    } = {}\n  ) {\n    super()\n    const { offset, path } = props\n    this.offset = offset\n    this.path = path\n  }\n}\n\n/**\n * Add an anchor token to the end of a text node.\n */\n\nexport const addAnchorToken = (text: Text, token: AnchorToken) => {\n  const offset = text.text.length\n  ANCHOR.set(text, [offset, token])\n}\n\n/**\n * Get the offset if a text node has an associated anchor token.\n */\n\nexport const getAnchorOffset = (\n  text: Text\n): [number, AnchorToken] | undefined => {\n  return ANCHOR.get(text)\n}\n\n/**\n * Add a focus token to the end of a text node.\n */\n\nexport const addFocusToken = (text: Text, token: FocusToken) => {\n  const offset = text.text.length\n  FOCUS.set(text, [offset, token])\n}\n\n/**\n * Get the offset if a text node has an associated focus token.\n */\n\nexport const getFocusOffset = (\n  text: Text\n): [number, FocusToken] | undefined => {\n  return FOCUS.get(text)\n}\n","import { Element, Descendant, Node, Range, Text, Editor } from 'slate'\nimport {\n  AnchorToken,\n  FocusToken,\n  Token,\n  addAnchorToken,\n  addFocusToken,\n  getAnchorOffset,\n  getFocusOffset,\n} from './tokens'\n\n/**\n * Resolve the descedants of a node by normalizing the children that can be\n * passed into a hyperscript creator function.\n */\n\nconst STRINGS: WeakSet<Text> = new WeakSet()\n\nconst resolveDescendants = (children: any[]): Descendant[] => {\n  const nodes: Node[] = []\n\n  const addChild = (child: Node | Token): void => {\n    if (child == null) {\n      return\n    }\n\n    const prev = nodes[nodes.length - 1]\n\n    if (typeof child === 'string') {\n      const text = { text: child }\n      STRINGS.add(text)\n      child = text\n    }\n\n    if (Text.isText(child)) {\n      const c = child // HACK: fix typescript complaining\n\n      if (\n        Text.isText(prev) &&\n        STRINGS.has(prev) &&\n        STRINGS.has(c) &&\n        Text.equals(prev, c, { loose: true })\n      ) {\n        prev.text += c.text\n      } else {\n        nodes.push(c)\n      }\n    } else if (Element.isElement(child)) {\n      nodes.push(child)\n    } else if (child instanceof Token) {\n      let n = nodes[nodes.length - 1]\n\n      if (!Text.isText(n)) {\n        addChild('')\n        n = nodes[nodes.length - 1] as Text\n      }\n\n      if (child instanceof AnchorToken) {\n        addAnchorToken(n, child)\n      } else if (child instanceof FocusToken) {\n        addFocusToken(n, child)\n      }\n    } else {\n      throw new Error(`Unexpected hyperscript child object: ${child}`)\n    }\n  }\n\n  for (const child of children.flat(Infinity)) {\n    addChild(child)\n  }\n\n  return nodes\n}\n\n/**\n * Create an anchor token.\n */\n\nexport function createAnchor(\n  tagName: string,\n  attributes: { [key: string]: any },\n  children: any[]\n): AnchorToken {\n  return new AnchorToken(attributes)\n}\n\n/**\n * Create an anchor and a focus token.\n */\n\nexport function createCursor(\n  tagName: string,\n  attributes: { [key: string]: any },\n  children: any[]\n): Token[] {\n  return [new AnchorToken(attributes), new FocusToken(attributes)]\n}\n\n/**\n * Create an `Element` object.\n */\n\nexport function createElement(\n  tagName: string,\n  attributes: { [key: string]: any },\n  children: any[]\n): Element {\n  return { ...attributes, children: resolveDescendants(children) }\n}\n\n/**\n * Create a focus token.\n */\n\nexport function createFocus(\n  tagName: string,\n  attributes: { [key: string]: any },\n  children: any[]\n): FocusToken {\n  return new FocusToken(attributes)\n}\n\n/**\n * Create a fragment.\n */\n\nexport function createFragment(\n  tagName: string,\n  attributes: { [key: string]: any },\n  children: any[]\n): Descendant[] {\n  return resolveDescendants(children)\n}\n\n/**\n * Create a `Selection` object.\n */\n\nexport function createSelection(\n  tagName: string,\n  attributes: { [key: string]: any },\n  children: any[]\n): Range {\n  const anchor: AnchorToken = children.find(c => c instanceof AnchorToken)\n  const focus: FocusToken = children.find(c => c instanceof FocusToken)\n\n  if (!anchor || anchor.offset == null || anchor.path == null) {\n    throw new Error(\n      `The <selection> hyperscript tag must have an <anchor> tag as a child with \\`path\\` and \\`offset\\` attributes defined.`\n    )\n  }\n\n  if (!focus || focus.offset == null || focus.path == null) {\n    throw new Error(\n      `The <selection> hyperscript tag must have a <focus> tag as a child with \\`path\\` and \\`offset\\` attributes defined.`\n    )\n  }\n\n  return {\n    anchor: {\n      offset: anchor.offset,\n      path: anchor.path,\n    },\n    focus: {\n      offset: focus.offset,\n      path: focus.path,\n    },\n    ...attributes,\n  }\n}\n\n/**\n * Create a `Text` object.\n */\n\nexport function createText(\n  tagName: string,\n  attributes: { [key: string]: any },\n  children: any[]\n): Text {\n  const nodes = resolveDescendants(children)\n\n  if (nodes.length > 1) {\n    throw new Error(\n      `The <text> hyperscript tag must only contain a single node's worth of children.`\n    )\n  }\n\n  let [node] = nodes\n\n  if (node == null) {\n    node = { text: '' }\n  }\n\n  if (!Text.isText(node)) {\n    throw new Error(`\n    The <text> hyperscript tag can only contain text content as children.`)\n  }\n\n  // COMPAT: If they used the <text> tag we want to guarantee that it won't be\n  // merge with other string children.\n  STRINGS.delete(node)\n\n  Object.assign(node, attributes)\n  return node\n}\n\n/**\n * Create a top-level `Editor` object.\n */\n\nexport const createEditor = (makeEditor: () => Editor) => (\n  tagName: string,\n  attributes: { [key: string]: any },\n  children: any[]\n): Editor => {\n  const otherChildren: any[] = []\n  let selectionChild: Range | undefined\n\n  for (const child of children) {\n    if (Range.isRange(child)) {\n      selectionChild = child\n    } else {\n      otherChildren.push(child)\n    }\n  }\n\n  const descendants = resolveDescendants(otherChildren)\n  const selection: Partial<Range> = {}\n  const editor = makeEditor()\n  Object.assign(editor, attributes)\n  editor.children = descendants as Element[]\n\n  // Search the document's texts to see if any of them have tokens associated\n  // that need incorporated into the selection.\n  for (const [node, path] of Node.texts(editor)) {\n    const anchor = getAnchorOffset(node)\n    const focus = getFocusOffset(node)\n\n    if (anchor != null) {\n      const [offset] = anchor\n      selection.anchor = { path, offset }\n    }\n\n    if (focus != null) {\n      const [offset] = focus\n      selection.focus = { path, offset }\n    }\n  }\n\n  if (selection.anchor && !selection.focus) {\n    throw new Error(\n      `Slate hyperscript ranges must have both \\`<anchor />\\` and \\`<focus />\\` defined if one is defined, but you only defined \\`<anchor />\\`. For collapsed selections, use \\`<cursor />\\` instead.`\n    )\n  }\n\n  if (!selection.anchor && selection.focus) {\n    throw new Error(\n      `Slate hyperscript ranges must have both \\`<anchor />\\` and \\`<focus />\\` defined if one is defined, but you only defined \\`<focus />\\`. For collapsed selections, use \\`<cursor />\\` instead.`\n    )\n  }\n\n  if (selectionChild != null) {\n    editor.selection = selectionChild\n  } else if (Range.isRange(selection)) {\n    editor.selection = selection\n  }\n\n  return editor\n}\n","import { isPlainObject } from 'is-plain-object'\nimport { Element, createEditor as makeEditor } from 'slate'\nimport {\n  createAnchor,\n  createCursor,\n  createEditor,\n  createElement,\n  createFocus,\n  createFragment,\n  createSelection,\n  createText,\n} from './creators'\n\n/**\n * The default creators for Slate objects.\n */\n\nconst DEFAULT_CREATORS = {\n  anchor: createAnchor,\n  cursor: createCursor,\n  editor: createEditor(makeEditor),\n  element: createElement,\n  focus: createFocus,\n  fragment: createFragment,\n  selection: createSelection,\n  text: createText,\n}\n\n/**\n * `HyperscriptCreators` are dictionaries of `HyperscriptCreator` functions\n * keyed by tag name.\n */\n\ntype HyperscriptCreators<T = any> = Record<\n  string,\n  (tagName: string, attributes: { [key: string]: any }, children: any[]) => T\n>\n\n/**\n * `HyperscriptShorthands` are dictionaries of properties applied to specific\n * kind of object, keyed by tag name. They allow you to easily define custom\n * hyperscript tags for your domain.\n */\n\ntype HyperscriptShorthands = Record<string, Record<string, any>>\n\n/**\n * Create a Slate hyperscript function with `options`.\n */\n\nconst createHyperscript = (\n  options: {\n    creators?: HyperscriptCreators\n    elements?: HyperscriptShorthands\n  } = {}\n) => {\n  const { elements = {} } = options\n  const elementCreators = normalizeElements(elements)\n  const creators = {\n    ...DEFAULT_CREATORS,\n    ...elementCreators,\n    ...options.creators,\n  }\n\n  const jsx = createFactory(creators)\n  return jsx\n}\n\n/**\n * Create a Slate hyperscript function with `options`.\n */\n\nconst createFactory = <T extends HyperscriptCreators>(creators: T) => {\n  const jsx = <S extends keyof T & string>(\n    tagName: S,\n    attributes?: Object,\n    ...children: any[]\n  ): ReturnType<T[S]> => {\n    const creator = creators[tagName]\n\n    if (!creator) {\n      throw new Error(`No hyperscript creator found for tag: <${tagName}>`)\n    }\n\n    if (attributes == null) {\n      attributes = {}\n    }\n\n    if (!isPlainObject(attributes)) {\n      children = [attributes].concat(children)\n      attributes = {}\n    }\n\n    children = children.filter(child => Boolean(child)).flat()\n    const ret = creator(tagName, attributes, children)\n    return ret\n  }\n\n  return jsx\n}\n\n/**\n * Normalize a dictionary of element shorthands into creator functions.\n */\n\nconst normalizeElements = (elements: HyperscriptShorthands) => {\n  const creators: HyperscriptCreators<Element> = {}\n\n  for (const tagName in elements) {\n    const props = elements[tagName]\n\n    if (typeof props !== 'object') {\n      throw new Error(\n        `Properties specified for a hyperscript shorthand should be an object, but for the custom element <${tagName}>  tag you passed: ${props}`\n      )\n    }\n\n    creators[tagName] = (\n      tagName: string,\n      attributes: { [key: string]: any },\n      children: any[]\n    ) => {\n      return createElement('element', { ...props, ...attributes }, children)\n    }\n  }\n\n  return creators\n}\n\nexport { createHyperscript, HyperscriptCreators, HyperscriptShorthands }\n","import {\n  createHyperscript,\n  HyperscriptCreators,\n  HyperscriptShorthands,\n} from './hyperscript'\nimport { createEditor, createText } from './creators'\n\n/**\n * The default hyperscript factory that ships with Slate, without custom tags.\n */\n\nconst jsx = createHyperscript()\n\nexport {\n  jsx,\n  createHyperscript,\n  createEditor,\n  createText,\n  HyperscriptCreators,\n  HyperscriptShorthands,\n}\n"],"names":["require$$0","ANCHOR","WeakMap","FOCUS","Token","AnchorToken","props","offset","path","FocusToken","addAnchorToken","text","token","length","set","getAnchorOffset","get","addFocusToken","getFocusOffset","STRINGS","WeakSet","resolveDescendants","children","nodes","addChild","child","prev","add","Text","isText","c","has","equals","loose","push","Element","isElement","n","Error","flat","Infinity","createAnchor","tagName","attributes","createCursor","createElement","createFocus","createFragment","createSelection","anchor","find","focus","createText","node","Object","assign","createEditor","makeEditor","otherChildren","selectionChild","Range","isRange","descendants","selection","editor","Node","texts","DEFAULT_CREATORS","cursor","element","fragment","createHyperscript","options","elements","elementCreators","normalizeElements","creators","jsx","createFactory","creator","isPlainObject","concat","filter","Boolean","ret"],"mappings":"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"}